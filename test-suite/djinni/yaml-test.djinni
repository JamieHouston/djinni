@extern "yaml-test.yaml"

# This file tests YAML dumped by Djinni can be parsed back in

# Record returned by a client
client_returned_record = record {
	record_id: i64;
	content: string;
	misc: optional<string>;
}

extern_interface_1 = interface +c
{
	foo(i: test_client_interface): test_client_returned_record;
	meth_taking_record_list(lr: list<test_client_returned_record>): test_client_returned_record;
    meth_returning_record_list(r: test_client_returned_record): list<test_client_returned_record>;
}

reverse_client_interface = interface +c {
    const return_str(): string;
    meth_taking_interface(i: reverse_client_interface): string;
    meth_taking_optional_interface(i: optional<reverse_client_interface>): string;
    meth_taking_and_returning_record_list(rl: list<client_returned_record>): list<client_returned_record>;
    static create(): reverse_client_interface;
}
